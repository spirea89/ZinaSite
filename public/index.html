<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Comunitatea romÃ¢nilor din Viena - articole, evenimente È™i resurse pentru romÃ¢nii care locuiesc Ã®n Viena">
  <title>ZusammenInAustria (Zina) - Comunitatea RomÃ¢nilor din Viena</title>
  <link rel="icon" type="image/png" href="logos/ZinA%20Logos-04.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">
        <img src="logos/ZinA%20Logos-07.png" alt="ZusammenInAustria" class="logo-img">
        <span class="logo-text">Zina</span>
      </a>
      <div class="nav-links">
        <a href="#mission" class="nav-link">Despre noi</a>
        <a href="#articles" class="nav-link">Articole</a>
        <a href="admin.html" class="nav-link admin-link">Admin</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="traditional-pattern" aria-hidden="true"></div>
    <div class="hero-content">
      <div class="hero-panel">
        <div class="hero-logo">
          <img src="logos/ZinA%20Logos-04.png" alt="ZusammenInAustria Logo" class="hero-logo-img">
        </div>
        <p class="eyebrow">RÄƒdÄƒcini romÃ¢neÈ™ti â€¢ AcasÄƒ Ã®n Viena</p>
        <h1>ZusammenInAustria</h1>
        <p class="lead">
          Aducem comunitatea romÃ¢nilor din Viena Ã®mpreunÄƒ prin articole, evenimente È™i suport â€” cu cÄƒldura care te face sÄƒ te simÈ›i ca acasÄƒ.
        </p>
        <div class="hero-actions">
          <a class="button" href="#articles">CiteÈ™te articole</a>
          <a class="button ghost" href="#mission">Despre noi</a>
        </div>
        <div class="hero-stats">
          <div class="stat">
            <span class="stat-label">Comunitate</span>
            <span class="stat-value">RomÃ¢ni Ã®n Viena</span>
          </div>
          <div class="stat">
            <span class="stat-label">Evenimente</span>
            <span class="stat-value">Lunar Ã®n Viena</span>
          </div>
          <div class="stat">
            <span class="stat-label">Suport</span>
            <span class="stat-value">Pentru noi veniÈ›i</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="content">
    <section id="mission" class="panel highlight">
      <div class="section-header">
        <h2>Misiunea noastrÄƒ</h2>
        <p class="section-description">
          Zina construieÈ™te poduri Ã®ntre romÃ¢nii din Viena È™i comunitatea austriacÄƒ mai largÄƒ.
          OrganizÄƒm evenimente culturale, Ã®ntÃ¢lniri de networking È™i oferim resurse pentru a ajuta noii veniÈ›i sÄƒ se simtÄƒ ca acasÄƒ.
        </p>
      </div>
      <div class="grid pillars">
        <article class="card pillar">
          <div class="pill">ğŸ‰ Evenimente culturale</div>
          <h3>SÄƒrbÄƒtorim Ã®mpreunÄƒ</h3>
          <p class="muted">ÃntÃ¢lniri sezoniere, sÄƒrbÄƒtori tradiÈ›ionale È™i cinÄƒri comunitare care poartÄƒ culorile RomÃ¢niei.</p>
        </article>
        <article class="card pillar">
          <div class="pill">ğŸ¤ Conexiune</div>
          <h3>ÃÈ›i extinzi cercul</h3>
          <p class="muted">ÃntÃ¢lniri de networking È™i mentorat pentru a ajuta noii veniÈ›i sÄƒ-È™i construiascÄƒ prietenii È™i cariera Ã®n Viena.</p>
        </article>
        <article class="card pillar">
          <div class="pill">ğŸ§­ Ghidare</div>
          <h3>Stabilirea uÈ™oarÄƒ</h3>
          <p class="muted">Sfaturi locale, suport pentru locuinÈ›e È™i resurse lingvistice adaptate pentru familiile È™i studenÈ›ii romÃ¢ni.</p>
        </article>
      </div>
    </section>

    <section id="articles" class="articles-section">
      <div class="section-header">
        <h2>Articole recente</h2>
        <p class="section-description">DescoperÄƒ ultimele È™tiri È™i articole pentru comunitatea romÃ¢nÄƒ din Viena</p>
      </div>
      <div id="articles-container" class="articles-grid"></div>
      <p id="empty-state" class="empty-state">
        <span class="empty-icon">ğŸ“</span>
        <span>Nu existÄƒ articole publicate Ã®ncÄƒ.</span>
      </p>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <p>Â© <span id="year"></span> ZusammenInAustria (Zina) â€¢ Viena, Austria</p>
      <p class="footer-subtitle">Comunitatea romÃ¢nilor din Viena</p>
    </div>
  </footer>

  <script src="data-service.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    async function loadArticles() {
      try {
        const articles = await DataService.getArticles('published');
        const container = document.getElementById('articles-container');
        const emptyState = document.getElementById('empty-state');

        container.innerHTML = '';
        if (!articles.length) {
          emptyState.style.display = 'flex';
          return;
        }

        emptyState.style.display = 'none';

        articles.forEach((article, index) => {
          const card = document.createElement('article');
          card.className = 'article-card';
          card.style.animationDelay = `${index * 0.1}s`;

          const date = new Date(article.updatedAt || article.createdAt);
          const formattedDate = date.toLocaleDateString('ro-RO', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
          });

          // Strip HTML tags for excerpt preview
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = article.content || '';
          const textContent = tempDiv.textContent || tempDiv.innerText || '';
          const excerpt = textContent.length > 150 ? textContent.substring(0, 150) + '...' : textContent;

          card.innerHTML = `
            <div class="article-card-header">
              <div class="article-date">${formattedDate}</div>
            </div>
            <h3 class="article-title">${article.title}</h3>
            <p class="article-excerpt">${excerpt}</p>
            <div class="article-footer">
              <a href="article.html?id=${article.id}" class="article-read-more">CiteÈ™te mai mult â†’</a>
            </div>
          `;

          // Make entire card clickable
          card.addEventListener('click', (e) => {
            // Don't navigate if clicking on a link or button
            if (e.target.tagName === 'A' || e.target.closest('a')) {
              return;
            }
            window.location.href = `article.html?id=${article.id}`;
          });

          container.appendChild(card);
        });
      } catch (error) {
        console.error('Failed to load articles', error);
        const emptyState = document.getElementById('empty-state');
        emptyState.style.display = 'flex';
        emptyState.innerHTML = '<span class="empty-icon">âš ï¸</span><span>Eroare la Ã®ncÄƒrcarea articolelor.</span>';
      }
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Navbar scroll effect
    let lastScroll = 0;
    const navbar = document.querySelector('.navbar');
    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;
      if (currentScroll > 100) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
      lastScroll = currentScroll;
    });

    loadArticles();
  </script>
</body>
</html>
